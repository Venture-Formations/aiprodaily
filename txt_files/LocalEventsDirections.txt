 I want to add a section called Local Events. We pull events from this API: https://www.visitstcloud.com/wp-json/tribe/events/v1/events
We want to create a database of the events. In this database, we also want a column name Featured. On the Specific campaign Page, the Articles Section should be labeled "The Local Scoop". It should have a minimize arrow, to minimize that section so only the Title, The Articles and count, and the 5/5 selected are visible. Then I need a section below that for "Local Events" with a similar setup. In that section there should be three columns. The first to be titled the date 12 hours after the campaign is created. (Friday, Sept. 19th). The next column is the next day after that, and the third is the next day after that. All events from that day should be listed for each of those day. The top 8 for each day should be selected. A counted for each day should be present. Only up to 8 events can be selected each day. Have a featured check box by each event as well. If in the database, the featured column is TRUE, have the featured check box checked. Only one featured event per day, unless there are multiple true in the database. If they are true in the database, the featured checkbox cannot be un-checked. If an event is checked as featured, it moves to the top of the list for that day. The remaining selected events show in start time order. If an event is deselected, it drops below the selected. If an event is selected, it moves in the correct sport based on start time. Besides featured events, remaining events are initially selected by random. When Preview Newsletter is selected, this section will be added using the HTML format from EventsHTML.txt as well as when the HTML is sent to MailerLite. Preview and MailerLite HTMLs should be the same. In Setting Under Email, there should be a section for Section Order. It should list all sections in the email. You should be able to change the order of the sections. That should transfer to the campaign page and the sections should show up in that order.
Questions for Clarification:
1. EventsHTML.txt: You mentioned this file - do you already have this template, or should it be created as part of this feature?
2. Event Selection Logic: When you say "initially selected by random" - should this happen every time the campaign page loads, or only once when the campaign is first created?
3. Featured Events: If multiple events are marked as featured in the database for the same day, should they all appear at the top, or should there be a priority system?
4. Date Calculation: "12 hours after campaign creation" - should this be 12 hours from the exact creation timestamp, or 12 hours from midnight of the creation date?
ANswers to questions:
1. I already have the template in the folder
2. Only once when the campaign is created
3. All appear at the top in start time order
4. Exact creation timestamp
Only pull the next 7 days of events instead of 30. Do this ad midnight everyday. Only overwrite events if they were changed. Add a main page between Analytics and Settings named Databases. That page should list the databases, along with how many entries are in the database. Right now it with only have Local Events as its only database. When selected, it should show the database in an editable form. It should have the ability to sort by columns, filter by columns, choose which columns to show. There should also be a button to Add Event. This should bring up a form that has each Event datapoint included in the database. It can then be filled out. There should be a button that says Submit Event. When pressed, it will add the event to the database. When complete it should send you back to show the database.
Use file EventsPrompts.txt as reference to how events were previously being chosen and how HTML was created. If AI is needed to produce any information needed, create step to use AI.